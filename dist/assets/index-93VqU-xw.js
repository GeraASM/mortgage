(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const y of l.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&s(y)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}})();const h=document.getElementById("form"),f=document.querySelectorAll(".mortgage__option");function S(t){f.forEach(e=>e.classList.remove("mortgage__option--active")),t.currentTarget.classList.add("mortgage__option--active")}f.forEach(t=>t.addEventListener("click",S));function d(t){const e=t.closest(".mortgage__storage"),o=e.querySelector(".mortgage__type"),s=e.closest(".mortgage__block");e.classList.contains("mortgage__storage--error")&&(e.classList.remove("mortgage__storage--error"),o.classList.remove("mortgage__type--error"),s.querySelector(".error").style.display="none")}function g(t){const e=t.closest(".mortgage__storage"),o=e.querySelector(".mortgage__type"),s=e.closest(".mortgage__block");e.classList.add("mortgage__storage--error"),o.classList.add("mortgage__type--error"),s.querySelector(".error").style.display="block"}function _(t){const e=t.closest(".mortgage__storage"),o=e.querySelector(".mortgage__years"),s=e.closest(".mortgage__block");e.classList.add("mortgage__storage--error"),o.classList.add("mortgage__type--error"),s.querySelector(".error").style.display="block"}function b(t){const e=t.closest(".mortgage__storage"),o=e.querySelector(".mortgage__years"),s=e.closest(".mortgage__block");e.classList.contains("mortgage__storage--error")&&(e.classList.remove("mortgage__storage--error"),o.classList.remove("mortgage__type--error"),s.querySelector(".error").style.display="none")}function v(t){t.forEach(e=>{const o=e.closest(".mortgage__block");o.querySelector(".error").style.display="none"})}function k(t){t.forEach(e=>{const o=e.closest(".mortgage__block");o.querySelector(".error").style.display="block"})}const p=/^\d+\.?(\d+)?$/,q=/^\d{1,2}$/,a=document.getElementById("amount"),n=document.getElementById("term"),c=document.getElementById("rate"),i=document.querySelectorAll("input[name='interest']"),u=document.querySelector(".mortgage__figure"),m=document.querySelector(".mortgage__show"),E=document.getElementById("monthly"),L=document.getElementById("total");function A(t){t.preventDefault();let e=!0;if(a.value.trim()&&p.test(a.value.trim())?d(a):(e=!1,g(a)),c.value.trim()&&p.test(c.value.trim())?d(c):(e=!1,g(c)),n.value.trim()&&q.test(n.value.trim())?b(n):(e=!1,_(n)),Array.from(i).some(o=>o.checked)?v(i):(e=!1,k(i)),e){const o=Array.from(i).find(r=>r.checked);u.style.display="none",m.style.display="block",u.setAttribute("aria-hidden","true"),m.setAttribute("aria-hidden","false");const s=I(parseFloat(a.value.trim()),parseFloat(c.value.trim()),parseInt(n.value.trim()),o.id);E.textContent=`£${s.monthly.toFixed(2)}`,L.textContent=`£${s.total.toFixed(2)}`}}function I(t,e,o,s){console.log(t,e,o,s);let r=0,l=0;if(s==="repayment")return r=t*(e/100),l=t+r*(o*12),{monthly:r,total:l};if(s==="interest")return r=t*(e/100),l=r*(o*12),{monthly:r,total:l}}const O=document.getElementById("btnClear");function x(){h.reset(),d(a),d(c),b(n),v(i),f.forEach(t=>t.classList.remove("mortgage__option--active")),E.textContent="£0",L.textContent="£0",u.style.display="flex",m.style.display="none",u.setAttribute("aria-hidden","false"),m.setAttribute("aria-hidden","true")}h.addEventListener("submit",A);O.addEventListener("click",x);
