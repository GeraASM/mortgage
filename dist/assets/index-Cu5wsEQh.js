(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}})();const _=document.getElementById("form"),u=document.querySelectorAll(".mortgage__option");function S(t){u.forEach(e=>e.classList.remove("mortgage__option--active")),t.currentTarget.classList.add("mortgage__option--active")}u.forEach(t=>t.addEventListener("click",S));function m(t){const e=t.closest(".mortgage__storage"),o=e.querySelector(".mortgage__type"),s=e.closest(".mortgage__block");e.classList.contains("mortgage__storage--error")&&(e.classList.remove("mortgage__storage--error"),o.classList.remove("mortgage__type--error"),s.querySelector(".error").style.display="none")}function g(t){const e=t.closest(".mortgage__storage"),o=e.querySelector(".mortgage__type"),s=e.closest(".mortgage__block");e.classList.add("mortgage__storage--error"),o.classList.add("mortgage__type--error"),s.querySelector(".error").style.display="block"}function y(t){const e=t.closest(".mortgage__storage"),o=e.querySelector(".mortgage__years"),s=e.closest(".mortgage__block");e.classList.add("mortgage__storage--error"),o.classList.add("mortgage__type--error"),s.querySelector(".error").style.display="block"}function p(t){const e=t.closest(".mortgage__storage"),o=e.querySelector(".mortgage__years"),s=e.closest(".mortgage__block");e.classList.contains("mortgage__storage--error")&&(e.classList.remove("mortgage__storage--error"),o.classList.remove("mortgage__type--error"),s.querySelector(".error").style.display="none")}function h(t){t.forEach(e=>{const o=e.closest(".mortgage__block");o.querySelector(".error").style.display="none"})}function k(t){t.forEach(e=>{const o=e.closest(".mortgage__block");o.querySelector(".error").style.display="block"})}const f=/^\d+\.?(\d+)?$/,q=/^\d{1,2}$/,c=document.getElementById("amount"),n=document.getElementById("term"),a=document.getElementById("rate"),i=document.querySelectorAll("input[name='interest']"),v=document.querySelector(".mortgage__figure"),b=document.querySelector(".mortgage__show"),E=document.getElementById("monthly"),L=document.getElementById("total");function I(t){t.preventDefault();let e=!0;if(c.value.trim()&&f.test(c.value.trim())?m(c):(e=!1,g(c)),a.value.trim()&&f.test(a.value.trim())?m(a):(e=!1,g(a)),n.value.trim()&&q.test(n.value.trim())?p(n):(e=!1,y(n)),Array.from(i).some(o=>o.checked)?h(i):(e=!1,k(i)),e){const o=Array.from(i).find(r=>r.checked);v.style.display="none",b.style.display="block";const s=O(parseFloat(c.value.trim()),parseFloat(a.value.trim()),parseInt(n.value.trim()),o.id);E.textContent=`£${s.monthly.toFixed(2)}`,L.textContent=`£${s.total.toFixed(2)}`}}function O(t,e,o,s){console.log(t,e,o,s);let r=0,l=0;if(s==="repayment")return r=t*(e/100),l=t+r*(o*12),{monthly:r,total:l};if(s==="interest")return r=t*(e/100),l=r*(o*12),{monthly:r,total:l}}const x=document.getElementById("btnClear");function A(){_.reset(),m(c),m(a),p(n),h(i),u.forEach(t=>t.classList.remove("mortgage__option--active")),E.textContent="£0",L.textContent="£0",v.style.display="flex",b.style.display="none"}_.addEventListener("submit",I);x.addEventListener("click",A);
